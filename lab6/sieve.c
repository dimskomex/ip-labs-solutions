#include <stdio.h>
#define N 50   // Ορίζουμε μια σταθερά N που καθορίζει το μέγεθος του πίνακα
              // και το ανώτερο όριο των αριθμών που θα εξετάσουμε

int main(void) {
    int A[N];   // Πίνακας ακεραίων μεγέθους N
                // Θα χρησιμοποιηθεί για να σημειώνουμε αν ένας αριθμός
                // είναι πρώτος (1) ή όχι (0)

    int i, j;

    /* 
     * Αρχικοποίηση του πίνακα:
     * Για όλους τους αριθμούς από το 2 έως το N-1,
     * θεωρούμε αρχικά ότι είναι πρώτοι (A[i] = 1).
     * Οι τιμές 0 και 1 δεν μας ενδιαφέρουν,
     * γιατί δεν είναι πρώτοι αριθμοί.
     */
    for (i = 2; i < N; ++i) {
        A[i] = 1;
    }
    
    /*
     * Εφαρμογή του αλγορίθμου του Κόσκινου του Ερατοσθένη:
     * Για κάθε αριθμό i από το 2 έως το N-1:
     *  - Αν ο A[i] είναι διαφορετικός από 0,
     *    τότε ο i θεωρείται πρώτος.
     *  - Μηδενίζουμε όλα τα πολλαπλάσιά του (2*i, 3*i, 4*i, ...),
     *    γιατί δεν μπορούν να είναι πρώτοι αριθμοί.
     */
    for (i = 2; i < N; ++i) {
        if (A[i] != 0) {
            // Ξεκινάμε από το 2*i γιατί το i*i και τα μικρότερα
            // πολλαπλάσια έχουν ήδη εξεταστεί σε προηγούμενα βήματα
            for (j = 2 * i; j < N; j += i) {
                A[j] = 0;   // Σημειώνουμε ότι ο αριθμός j δεν είναι πρώτος
            }
        }
    }

    /*
     * Εκτύπωση των πρώτων αριθμών:
     * Όσες θέσεις του πίνακα έχουν τιμή 1
     * αντιστοιχούν σε πρώτους αριθμούς.
     */
    for (i = 2; i < N; ++i) {
        if (A[i] == 1) {
            printf("%d is a prime number\n", i);
        }
    }

    return 0;
}
